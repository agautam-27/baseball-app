<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Invitation Code Management</title>
        <link rel="stylesheet" href="../styles/header-footer.css" />
        <link rel="stylesheet" href="../styles/invitationCodeManagement.css" />
        <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
        <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
        <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
    </head>
    <body>
        <!-- Header will be loaded here -->
        <div id="header-container"></div>

        <div class="container">
            <div class="header">
                <h1>Invitation Code Management</h1>
            </div>

            <div class="code-list" id="code-list">
                <p class="empty-text" id="empty-text">Loading...</p>
                <!-- Codes will be displayed here -->
            </div>

            <div class="create-button-container">
                <button class="add-button" id="create-new-btn">
                    Create New
                </button>
            </div>
        </div>

        <!-- New Code Creation Modal -->
        <div class="modal" id="new-code-modal">
            <div class="modal-content">
                <span class="close-button" id="new-code-close">&times;</span>
                <h2>Create New Invitation Code</h2>

                <div class="checkbox-container">
                    <label class="switch">
                        <input type="checkbox" id="use-random-code" checked />
                        <span class="slider round"></span>
                    </label>
                    <label for="use-random-code">Generate Random Code</label>
                </div>

                <div
                    class="field-container"
                    id="code-input-container"
                    style="display: none"
                >
                    <label for="code-value">Code</label>
                    <input
                        type="text"
                        id="code-value"
                        placeholder="Enter invitation code"
                    />
                </div>

                <div class="field-container">
                    <label for="expire-days">Expiration (days)</label>
                    <input
                        type="number"
                        id="expire-days"
                        placeholder="Expiration (days)"
                        value="30"
                    />
                </div>

                <div class="modal-buttons">
                    <button class="cancel-button" id="new-code-cancel">
                        Cancel
                    </button>
                    <button class="create-button" id="new-code-create">
                        Create
                    </button>
                </div>
            </div>
        </div>

        <!-- Code Edit Modal -->
        <div class="modal" id="edit-code-modal">
            <div class="modal-content">
                <span class="close-button" id="edit-code-close">&times;</span>
                <h2>Edit Invitation Code</h2>

                <div class="field-container">
                    <label for="edit-code-value">Code</label>
                    <input
                        type="text"
                        id="edit-code-value"
                        placeholder="Enter invitation code"
                    />
                </div>

                <div class="field-container">
                    <label for="edit-expire-days">Expiration (days)</label>
                    <input
                        type="number"
                        id="edit-expire-days"
                        placeholder="Expiration (days)"
                        value="30"
                    />
                </div>

                <div class="modal-buttons">
                    <button class="cancel-button" id="edit-code-cancel">
                        Cancel
                    </button>
                    <button class="update-button" id="edit-code-update">
                        Update
                    </button>
                </div>
            </div>
        </div>

        <!-- Footer will be loaded here -->
        <div id="footer-container"></div>

        <script src="../js/firebase-config.js"></script>
        <script src="../js/authGuard.js"></script>
        <script src="../js/header.js"></script>
        <script src="../js/invitationCodeManagement.js"></script>
        <script src="../js/footerNav.js"></script>
        <script src="../js/footerIcons.js"></script>
    </body>
</html>
